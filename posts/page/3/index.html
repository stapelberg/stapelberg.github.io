<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge"><title>Blog Posts - Michael Stapelberg</title>

  <meta property="og:site_name" content="Michael Stapelberg">
  <meta property="og:title" content="Blog Posts">
  <meta property="og:description" content="Michael Stapelberg’s private website, containing articles about computers and programming, mostly focused on Linux.">
  
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
  <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
  <link rel="icon" type="image/png" href="/favicon-48x48.png" sizes="48x48">
  <link rel="apple-touch-icon" sizes="152x152" href="/apple-touch-icon-152x152.png">
  <meta name="description" content="Michael Stapelberg’s private website, containing articles about computers and programming, mostly focused on Linux.">
  <link rel="canonical" href="https://michael.stapelberg.ch/posts/">
  <meta name="author" content="Michael Stapelberg">
  <style type="text/css">
    @font-face {
	font-family: 'Roboto Mono';
	src: url('/font/subset-RobotoMono-Regular.eot');
	src: local('Roboto Mono Regular'), local('RobotoMono-Regular'),
        url('/font/subset-RobotoMono-Regular.eot?#iefix') format('embedded-opentype'),
        url('/font/subset-RobotoMono-Regular.woff2') format('woff2'),
        url('/font/subset-RobotoMono-Regular.woff') format('woff'),
        url('/font/subset-RobotoMono-Regular.ttf') format('truetype');
	font-weight: normal;
	font-style: normal;
	font-display: swap;
    }

    @font-face {
	font-family: 'Roboto';
	src: url('/font/subset-Roboto-Bold.eot');
	src: local('Roboto Bold'), local('Roboto-Bold'),
        url('/font/subset-Roboto-Bold.eot?#iefix') format('embedded-opentype'),
        url('/font/subset-Roboto-Bold.woff2') format('woff2'),
        url('/font/subset-Roboto-Bold.woff') format('woff'),
        url('/font/subset-Roboto-Bold.ttf') format('truetype');
	font-weight: bold;
	font-style: normal;
	font-display: swap;
    }

    @font-face {
	font-family: 'Roboto';
	src: url('/font/subset-Roboto-Regular.eot');
	src: local('Roboto'), local('Roboto-Regular'),
        url('/font/subset-Roboto-Regular.eot?#iefix') format('embedded-opentype'),
        url('/font/subset-Roboto-Regular.woff2') format('woff2'),
        url('/font/subset-Roboto-Regular.woff') format('woff'),
        url('/font/subset-Roboto-Regular.ttf') format('truetype');
	font-weight: normal;
	font-style: normal;
	font-display: swap;
    }

    @font-face {
	font-family: 'Lato';
	src: url('/font/subset-Lato-Bold.eot');
	src: local('Lato Bold'), local('Lato-Bold'),
        url('/font/subset-Lato-Bold.eot?#iefix') format('embedded-opentype'),
        url('/font/subset-Lato-Bold.woff2') format('woff2'),
        url('/font/subset-Lato-Bold.woff') format('woff'),
        url('/font/subset-Lato-Bold.ttf') format('truetype');
	font-weight: bold;
	font-style: normal;
	font-display: swap;
    }

    body, td, th {
	font-family: 'Roboto';
	font-size: 16px;
	line-height: 150%;
	color: #000;
    }

    h1,
    h2,
    h3,
    h4,
    h5,
    h6 {
	font-family: 'Lato';
	font-weight: bold;
	font-variant-ligatures: none;
	color: #000;
    }
  </style>

  
  <link rel="preload" href="/font/subset-Lato-Bold.woff2" as="font" type="font/woff2" crossorigin>
  <link rel="preload" href="/font/subset-Roboto-Regular.woff2" as="font" type="font/woff2" crossorigin>

  

  
  <link rel="stylesheet" href="/1.min.css?cachebust=sha512-MmDletsiVVexqmh4i3stLXAHVECuOzqin3b%2babGWq5wv%2fwd%2f9IdQTTMV1IZowrB21EMrM9N1VHI17hmnyeCskw%3d%3d" type="text/css">
  <link rel="alternate" href="/feed.xml" type="application/atom+xml" title="ATOM feed">
</head>
<body>



<header id="ms_navbar">
  <a href="/">
<img
    src="/logo1x.jpg"
    srcset="/logo2x.jpg 2x, /logo3x.jpg 3x"
    width="42"
    height="52"
    alt="profile picture"
    title="profile picture">
</a>
  <div>
    <a href="/"><h1>Michael Stapelberg</h1></a>
    <nav id="ms_desktopnav">
      <ul>
	
    <li><a href="/" >About</a></li>
    <li><a href="/posts/" class="active">Blog</a></li>
    <li><a href="/talks/" >Talks</a></li>
    <li><a href="/series/" >Series</a></li>

      </ul>
    </nav>
  </div>

  <div id="ms_burger_open">
    <label for="ms_burger"><svg viewBox="0 0 100 80" width="24" height="24">
	<rect width="100" height="17" rx="8" fill="white"></rect>
	<rect y="30" width="100" height="17" rx="8" fill="white"></rect>
	<rect y="60" width="100" height="17" rx="8" fill="white"></rect>
    </svg></label>
  </div>

  <input type="checkbox" id="ms_burger">

  <nav id="ms_navdrawer">
    <div id="ms_navdrawer_top">
      <div id="ms_navdrawer_search">
	<a href="/">
<img
    src="/logo1x.jpg"
    srcset="/logo2x.jpg 2x, /logo3x.jpg 3x"
    width="42"
    height="52"
    alt="profile picture"
    title="profile picture">

	<h1>Michael Stapelberg</h1></a>
      </div>
      <div id="ms_burger_close">
	<label for="ms_burger"><svg viewBox="0 0 110 110" width="24" height="24">
	    <line x1="10" y1="10" x2="100" y2="100" stroke="#047bc2" stroke-width="20" />
	    <line x1="100" y1="10" x2="10" y2="100" stroke="#047bc2" stroke-width="20" />
	</svg></label>
      </div>
    </div>

    <div id="ms_navdrawer_content">
      <ul>
	
    <li><a href="/" >About</a></li>
    <li><a href="/posts/" class="active">Blog</a></li>
    <li><a href="/talks/" >Talks</a></li>
    <li><a href="/series/" >Series</a></li>

      </ul>
    </div>
  </nav>
</header>
<main>
      <div>
<h1 class="ms_title">All Blog Posts</h1>
<div class="Artikel" id="content">

  Filter by tag: <ul class="taglist">
    
    <li><a href="https://michael.stapelberg.ch/posts/tags/debian/">debian</a></li>
    
    <li><a href="https://michael.stapelberg.ch/posts/tags/debug/">debug</a></li>
    
    <li><a href="https://michael.stapelberg.ch/posts/tags/distri/">distri</a></li>
    
    <li><a href="https://michael.stapelberg.ch/posts/tags/fiber/">fiber</a></li>
    
    <li><a href="https://michael.stapelberg.ch/posts/tags/golang/">golang</a></li>
    
    <li><a href="https://michael.stapelberg.ch/posts/tags/kinx/">kinX</a></li>
    
    <li><a href="https://michael.stapelberg.ch/posts/tags/nix/">nix</a></li>
    
    <li><a href="https://michael.stapelberg.ch/posts/tags/pc/">pc</a></li>
    
    <li><a href="https://michael.stapelberg.ch/posts/tags/rgb2r/">rgb2r</a></li>
    
    <li><a href="https://michael.stapelberg.ch/posts/tags/rsync/">rsync</a></li>
    
  </ul>
  <br>
  
  

  Go to page:
  
    <ul class="pagination pagination-default">
      <li class="page-item">
        <a href="/posts/" aria-label="First" class="page-link" role="button"><span aria-hidden="true">&laquo;&laquo;</span></a>
      </li>
      <li class="page-item">
        <a href="/posts/page/2/" aria-label="Previous" class="page-link" role="button"><span aria-hidden="true">&laquo;</span></a>
      </li>
      <li class="page-item">
        <a href="/posts/" aria-label="Page 1" class="page-link" role="button">1</a>
      </li>
      <li class="page-item">
        <a href="/posts/page/2/" aria-label="Page 2" class="page-link" role="button">2</a>
      </li>
      <li class="page-item active">
        <a aria-current="page" aria-label="Page 3" class="page-link" role="button">3</a>
      </li>
      <li class="page-item">
        <a href="/posts/page/4/" aria-label="Page 4" class="page-link" role="button">4</a>
      </li>
      <li class="page-item">
        <a href="/posts/page/5/" aria-label="Page 5" class="page-link" role="button">5</a>
      </li>
      <li class="page-item">
        <a href="/posts/page/4/" aria-label="Next" class="page-link" role="button"><span aria-hidden="true">&raquo;</span></a>
      </li>
      <li class="page-item">
        <a href="/posts/page/11/" aria-label="Last" class="page-link" role="button"><span aria-hidden="true">&raquo;&raquo;</span></a>
      </li>
    </ul>
  <br>

    
  <h2>2019 › March</h2>
  <ul class="ArticleList">
    
    <li>
      <div>
	<a href="https://michael.stapelberg.ch/posts/2019-03-10-debian-winding-down/"><h3>Winding down my Debian involvement</h3></a>
	
	<div class="tags">
	  Tags:
	
	<span class="ms_tag"><a href="/posts/tags/debian/">debian</a></span>
	
	</div>
	
      </div>
      <div class="summary">
	
	
	
	
	<p>
	  This post is hard to write, both in the emotional sense but also in the “I would have written a shorter letter, but I didn’t have the time” sense. Hence, please assume the best of intentions when reading it—it is not my intention to make anyone feel bad about their contributions, but rather to provide some insight into why my frustration level ultimately exceeded the threshold.

	  <span class="readmore"><a href="https://michael.stapelberg.ch/posts/2019-03-10-debian-winding-down/">Read more →</a></span>
	</p>
      </div>
    </li>
    
  </ul>

  
  <h2>2019 › February</h2>
  <ul class="ArticleList">
    
    <li>
      <div>
	<a href="https://michael.stapelberg.ch/posts/2019-02-15-debian-debugging-devex/"><h3>Debugging experience in Debian</h3></a>
	
	<div class="tags">
	  Tags:
	
	<span class="ms_tag"><a href="/posts/tags/debian/">debian</a></span>
	
	</div>
	
      </div>
      <div class="summary">
	
	
	
	
	<p>
	  Recently, a user reported that they don’t see window titles in i3 when running i3 on a Raspberry Pi with Debian.
I copied the latest Raspberry Pi Debian image onto an SD card, booted it, and was able to reproduce the issue.

	  <span class="readmore"><a href="https://michael.stapelberg.ch/posts/2019-02-15-debian-debugging-devex/">Read more →</a></span>
	</p>
      </div>
    </li>
    
    <li>
      <div>
	<a href="https://michael.stapelberg.ch/posts/2019-02-05-turbopfor-analysis/"><h3>TurboPFor: an analysis</h3></a>
	
	<div class="tags">
	  Tags:
	
	<span class="ms_tag"><a href="/posts/tags/debian/">debian</a></span>
	
	</div>
	
      </div>
      <div class="summary">
	
	
	
	
	<p>
	  Motivation I have recently been looking into speeding up Debian Code Search. As a quick reminder, search engines answer queries by consulting an inverted index: a map from term to documents containing that term (called a “posting list”). See the Debian Code Search Bachelor Thesis (PDF) for a lot more details.

	  <span class="readmore"><a href="https://michael.stapelberg.ch/posts/2019-02-05-turbopfor-analysis/">Read more →</a></span>
	</p>
      </div>
    </li>
    
  </ul>

  
  <h2>2018 › December</h2>
  <ul class="ArticleList">
    
    <li>
      <div>
	<a href="https://michael.stapelberg.ch/posts/2018-12-12-docker-ipv6/"><h3>Docker and IPv6</h3></a>
	
	<div class="tags"></div>
	
      </div>
      <div class="summary">
	
	
	
	
	<p>
	  My use-case is seemingly very simple: I want to run a webserver in a Docker container, and it should be reachable via IPv4 and IPv6. The webserver has multiple virtual hosts, some of which just serve static files, while others proxy to, say, a Grafana instance, which is also running in a Docker container.

	  <span class="readmore"><a href="https://michael.stapelberg.ch/posts/2018-12-12-docker-ipv6/">Read more →</a></span>
	</p>
      </div>
    </li>
    
  </ul>

  
  <h2>2018 › October</h2>
  <ul class="ArticleList">
    
    <li>
      <div>
	<a href="https://michael.stapelberg.ch/posts/2018-10-31-rgb2rv18-network/"><h3>Network setup for our retro computing event RGB2Rv18</h3></a>
	
	<div class="tags">
	  Tags:
	
	<span class="ms_tag"><a href="/posts/tags/rgb2r/">rgb2r</a></span>
	
	</div>
	
      </div>
      <div class="summary">
	
	
	
	
	<p>
	  Our computer association NoName e.V. organizes a retro computing event called RGB2R every year, located in Heidelberg, Germany. This year’s version is called RGB2Rv18.
This article describes the network setup I created for this year’s event. If you haven’t read it, the article about last year’s RGB2Rv17 network is also available.

	  <span class="readmore"><a href="https://michael.stapelberg.ch/posts/2018-10-31-rgb2rv18-network/">Read more →</a></span>
	</p>
      </div>
    </li>
    
  </ul>

  
  <h2>2018 › June</h2>
  <ul class="ArticleList">
    
    <li>
      <div>
	<a href="https://michael.stapelberg.ch/posts/2018-06-03-raspi3-looking-for-maintainer/"><h3>Looking for a new Raspberry Pi image maintainer</h3></a>
	
	<div class="tags">
	  Tags:
	
	<span class="ms_tag"><a href="/posts/tags/debian/">debian</a></span>
	
	</div>
	
      </div>
      <div class="summary">
	
	
	
	
	<p>
	   This is taken care of: Gunnar Wolf has taken on maintenance of the Raspberry Pi image. Thank you! (Cross-posting this message I sent to pkg-raspi-maintainers for broader visibility.) I started building Raspberry Pi images because I thought there should be an easy, official way to install Debian on the Raspberry Pi. 
	  <span class="readmore"><a href="https://michael.stapelberg.ch/posts/2018-06-03-raspi3-looking-for-maintainer/">Read more →</a></span>
	</p>
      </div>
    </li>
    
  </ul>

  
  <h2>2018 › May</h2>
  <ul class="ArticleList">
    
    <li>
      <div>
	<a href="https://michael.stapelberg.ch/posts/2018-05-07-xps-13-9360-linux/"><h3>Installing Dell’s Ubuntu image on an XPS 9360</h3></a>
	
	<div class="tags"></div>
	
      </div>
      <div class="summary">
	
	
	
	
	<p>
	  Update (2021) Update (2021): After Dell didn’t update their Linux version for a while, I concluded it would be best to just install a standard Ubuntu Linux. All required drivers are upstreamed, and I never needed the Dell tools that come with their version.

	  <span class="readmore"><a href="https://michael.stapelberg.ch/posts/2018-05-07-xps-13-9360-linux/">Read more →</a></span>
	</p>
      </div>
    </li>
    
  </ul>

  
  <h2>2018 › April</h2>
  <ul class="ArticleList">
    
    <li>
      <div>
	<a href="https://michael.stapelberg.ch/posts/2018-04-17-kinx-latency-measurement/"><h3>kinX: latency measurement</h3></a>
	
	<div class="tags">
	  Tags:
	
	<span class="ms_tag"><a href="/posts/tags/kinx/">kinX</a></span>
	
	</div>
	
      </div>
      <div class="summary">
	
	
	
	
	<p>
	  This post is part of a series of posts about the kinX project.
Latency measurement End-to-end latency consists of 3 parts:
input latency (keyboard) processing latency (computer) output latency (monitor) During the development of the kinX keyboard controller, I realized that measuring processing latency was quite simple with my hardware: I could start a timer when sending a key press HID report to the computer and measure the elapsed time when I would receive a reply from the computer.

	  <span class="readmore"><a href="https://michael.stapelberg.ch/posts/2018-04-17-kinx-latency-measurement/">Read more →</a></span>
	</p>
      </div>
    </li>
    
    <li>
      <div>
	<a href="https://michael.stapelberg.ch/posts/2018-04-17-kinx-usb-hub/"><h3>kinX: USB Hub</h3></a>
	
	<div class="tags">
	  Tags:
	
	<span class="ms_tag"><a href="/posts/tags/kinx/">kinX</a></span>
	
	</div>
	
      </div>
      <div class="summary">
	
	
	
	
	
	<a href="https://michael.stapelberg.ch/posts/2018-04-17-kinx-usb-hub/" style="min-width: 200px; margin-right: 1.5rem; margin-bottom: 1.5rem"><img src="https://michael.stapelberg.ch/posts/2018-04-17-kinx-usb-hub/kinx-hub_hu_a82199d78899b83d.jpg" width="200" height="171"/></a>
	
	<p>
	  This post is part of a series of posts about the kinX project.
Motivation The Kinesis Advantage comes with a built-in 2-port USB hub. That hub uses a proprietary connector to interface with a PS/2 keyboard controller, so it cannot be used with a USB keyboard controller. As the built-in hub is the natural place to connect the Logitech unified receiver dongle, not being able to use the hub is mildly annoying.

	  <span class="readmore"><a href="https://michael.stapelberg.ch/posts/2018-04-17-kinx-usb-hub/">Read more →</a></span>
	</p>
      </div>
    </li>
    
    <li>
      <div>
	<a href="https://michael.stapelberg.ch/posts/2018-04-17-kinx-keyboard-controller/"><h3>kinX: keyboard controller with &lt;0.33ms input latency</h3></a>
	
	<div class="tags">
	  Tags:
	
	<span class="ms_tag"><a href="/posts/tags/kinx/">kinX</a></span>
	
	</div>
	
      </div>
      <div class="summary">
	
	
	
	
	
	<a href="https://michael.stapelberg.ch/posts/2018-04-17-kinx-keyboard-controller/" style="min-width: 200px; margin-right: 1.5rem; margin-bottom: 1.5rem"><img src="https://michael.stapelberg.ch/posts/2018-04-17-kinx-keyboard-controller/kinx-mk66f_hu_d089462682196336.jpg" width="200" height="156"/></a>
	
	<p>
	  This post is part of a series of posts about the kinX project.
Background 10 years ago I got a Kinesis Advantage keyboard. I wrote about the experience of learning to touch-type using the ergonomic NEO layout in my (German) post “Neo-Layout auf einer Kinesis-Tastatur”.

	  <span class="readmore"><a href="https://michael.stapelberg.ch/posts/2018-04-17-kinx-keyboard-controller/">Read more →</a></span>
	</p>
      </div>
    </li>
    
    <li>
      <div>
	<a href="https://michael.stapelberg.ch/posts/2018-04-17-kinx/"><h3>kinX: overview</h3></a>
	
	<div class="tags">
	  Tags:
	
	<span class="ms_tag"><a href="/posts/tags/kinx/">kinX</a></span>
	
	</div>
	
      </div>
      <div class="summary">
	
	
	
	
	<p>
	  The kinX project is described in a series of blog posts:
While not strictly a part of this series, “Hacking your own Kinesis keyboard controller” describes the first controller I built in 2013 (maybe interesting for context).
The first post introduces the kinX, a keyboard controller with merely 0.33ms of input latency (including USB).

	  <span class="readmore"><a href="https://michael.stapelberg.ch/posts/2018-04-17-kinx/">Read more →</a></span>
	</p>
      </div>
    </li>
    
  </ul>

  
  <h2>2018 › March</h2>
  <ul class="ArticleList">
    
    <li>
      <div>
	<a href="https://michael.stapelberg.ch/posts/2018-03-19-sbuild-debian-developer-setup/"><h3>sbuild-debian-developer-setup(1)</h3></a>
	
	<div class="tags">
	  Tags:
	
	<span class="ms_tag"><a href="/posts/tags/debian/">debian</a></span>
	
	</div>
	
      </div>
      <div class="summary">
	
	
	
	
	<p>
	   I have heard a number of times that sbuild is too hard to get started with, and hence people don’t use it. To reduce hurdles from using/contributing to Debian, I wanted to make sbuild easier to set up. sbuild ≥ 0.74.0 provides a Debian package called sbuild-debian-developer-setup. Once installed, run the sbuild-debian-developer-setup(1) command to create a chroot suitable for building packages for Debian unstable. 
	  <span class="readmore"><a href="https://michael.stapelberg.ch/posts/2018-03-19-sbuild-debian-developer-setup/">Read more →</a></span>
	</p>
      </div>
    </li>
    
    <li>
      <div>
	<a href="https://michael.stapelberg.ch/posts/2018-03-13-cpu/"><h3>cpu(1) with Linux</h3></a>
	
	<div class="tags"></div>
	
      </div>
      <div class="summary">
	
	
	
	
	<p>
	  motivation To run the tests of my i3 Go package, I use the following command:
go test -v go.i3wm.org/... To run the tests of my i3 Go package on a different architecture, the only thing I should need to change is to declare the architecture by setting GOARCH=arm64:

	  <span class="readmore"><a href="https://michael.stapelberg.ch/posts/2018-03-13-cpu/">Read more →</a></span>
	</p>
      </div>
    </li>
    
    <li>
      <div>
	<a href="https://michael.stapelberg.ch/posts/2018-03-10-dput-usability/"><h3>dput usability changes</h3></a>
	
	<div class="tags">
	  Tags:
	
	<span class="ms_tag"><a href="/posts/tags/debian/">debian</a></span>
	
	</div>
	
      </div>
      <div class="summary">
	
	
	
	
	<p>
	   dput-ng ≥ 1.16 contains two usability changes which make uploading easier: When no arguments are specified, dput-ng auto-selects the most recent .changes file (with confirmation). Instead of erroring out when detecting an unsigned .changes file, debsign(1) is invoked to sign the .changes file before proceeding. With these changes, after building a package, you just need to type dput (in the correct directory of course) to sign and upload it. 
	  <span class="readmore"><a href="https://michael.stapelberg.ch/posts/2018-03-10-dput-usability/">Read more →</a></span>
	</p>
      </div>
    </li>
    
  </ul>

  
  <h2>2018 › January</h2>
  <ul class="ArticleList">
    
    <li>
      <div>
	<a href="https://michael.stapelberg.ch/posts/2018-01-28-pristine-tar/"><h3>pristine-tar considered harmful</h3></a>
	
	<div class="tags">
	  Tags:
	
	<span class="ms_tag"><a href="/posts/tags/debian/">debian</a></span>
	
	</div>
	
      </div>
      <div class="summary">
	
	
	
	
	<p>
	   If you want to follow along at home, clone this repository: % GBP_CONF_FILES=:debian/gbp.conf gbp clone https://anonscm.debian.org/git/pkg-go/packages/golang-github-go-macaron-inject.git Now, in the golang-github-go-macaron-inject directory, I’m aware of three ways to obtain an orig tarball (please correct me if there are more): Run gbp buildpackage, creating an orig tarball from git (upstream/0.0_git20160627.0.d8a0b86)
The resulting sha1sum is d085a04b7b35856be24f8cc4a9a6d9799cdb59b4. Run pristine-tar checkout
The resulting sha1sum is d51575c0b00db5fe2bbf8eea65bc7c4f767ee954. Run origtargz
The resulting sha1sum is d51575c0b00db5fe2bbf8eea65bc7c4f767ee954. Have a look at the archive’s golang-github-go-macaron-inject_0.0~git20160627.0.d8a0b86-2.dsc, however: the file entry orig tarball reads: 
	  <span class="readmore"><a href="https://michael.stapelberg.ch/posts/2018-01-28-pristine-tar/">Read more →</a></span>
	</p>
      </div>
    </li>
    
    <li>
      <div>
	<a href="https://michael.stapelberg.ch/posts/2018-01-13-offsite-backup-apu2c4/"><h3>Off-site backups with an apu2c4</h3></a>
	
	<div class="tags"></div>
	
      </div>
      <div class="summary">
	
	
	
	
	<p>
	  Background A short summary of my backup strategy is: I run daily backups to my NAS. In order to recover from risks like my apartment burning down or my belongings being stolen, I like to keep one copy of my data off-site, updated less frequently.

	  <span class="readmore"><a href="https://michael.stapelberg.ch/posts/2018-01-13-offsite-backup-apu2c4/">Read more →</a></span>
	</p>
      </div>
    </li>
    
    <li>
      <div>
	<a href="https://michael.stapelberg.ch/posts/2018-01-08-raspberry-pi-3/"><h3>Debian buster on the Raspberry Pi 3 (update)</h3></a>
	
	<div class="tags">
	  Tags:
	
	<span class="ms_tag"><a href="/posts/tags/debian/">debian</a></span>
	
	</div>
	
      </div>
      <div class="summary">
	
	
	
	
	<p>
	   I previously wrote about my Debian buster preview image for the Raspberry Pi 3. Now, I’m publishing an updated version, containing the following changes: WiFi works out of the box. Use e.g. ip link set dev wlan0 up, and iwlist wlan0 scan. Kernel boot messages are now displayed on an attached monitor (if any), not just on the serial console. Root file system resizing will now not touch the partition table if the user modified it. The image is now compressed using xz, reducing its size to 170M. As before, the image is built with vmdb2, the successor to vmdebootstrap. The input files are available at https://github.com/Debian/raspi3-image-spec. 
	  <span class="readmore"><a href="https://michael.stapelberg.ch/posts/2018-01-08-raspberry-pi-3/">Read more →</a></span>
	</p>
      </div>
    </li>
    
  </ul>

  
  <h2>2017 › December</h2>
  <ul class="ArticleList">
    
    <li>
      <div>
	<a href="https://michael.stapelberg.ch/posts/2017-12-11-dell-up3218k/"><h3>Dell 8K4K monitor (Dell UP3218K)</h3></a>
	
	<div class="tags">
	  Tags:
	
	<span class="ms_tag"><a href="/posts/tags/pc/">pc</a></span>
	
	</div>
	
      </div>
      <div class="summary">
	
	
	
	
	<p>
	  Background Ever since I first used a MacBook Pro with Retina display back in 2013, I’ve been madly in love with hi-DPI displays. I had seen the device before, and marvelled at brilliant font quality with which scientific papers would be rendered. But it wasn’t until I had a chance to use the device for a few hours to make i3 compatible with hi-DPI displays that I realized what a difference it makes in the day-to-day life.

	  <span class="readmore"><a href="https://michael.stapelberg.ch/posts/2017-12-11-dell-up3218k/">Read more →</a></span>
	</p>
      </div>
    </li>
    
  </ul>

  
  <h2>2017 › November</h2>
  <ul class="ArticleList">
    
    <li>
      <div>
	<a href="https://michael.stapelberg.ch/posts/2017-11-13-rgb2r-network/"><h3>Network setup for our retro computing event RGB2Rv17</h3></a>
	
	<div class="tags">
	  Tags:
	
	<span class="ms_tag"><a href="/posts/tags/rgb2r/">rgb2r</a></span>
	
	</div>
	
      </div>
      <div class="summary">
	
	
	
	
	
	<a href="https://michael.stapelberg.ch/posts/2017-11-13-rgb2r-network/" style="min-width: 200px; margin-right: 1.5rem; margin-bottom: 1.5rem"><img src="https://michael.stapelberg.ch/posts/2017-11-13-rgb2r-network/IMG_7157_hu_12a1cbf35d3ccb44.jpg" width="200" height="150"/></a>
	
	<p>
	  Our computer association NoName e.V. organizes a retro computing event called RGB2R every year, located in Heidelberg, Germany. This year’s version is called RGB2Rv17.
This article describes the network setup I created for this year’s event.
The intention is not so much to provide a fully working setup (even though the setup did work fine for us as-is), but rather inspire to you to create your own network, based vaguely on what’s provided here.

	  <span class="readmore"><a href="https://michael.stapelberg.ch/posts/2017-11-13-rgb2r-network/">Read more →</a></span>
	</p>
      </div>
    </li>
    
  </ul>

  
  <h2>2017 › October</h2>
  <ul class="ArticleList">
    
    <li>
      <div>
	<a href="https://michael.stapelberg.ch/posts/2017-10-22-pkg-go-upstreams/"><h3>Which VCS do Debian’s Go package upstreams use?</h3></a>
	
	<div class="tags">
	  Tags:
	
	<span class="ms_tag"><a href="/posts/tags/debian/">debian</a></span>
	
	<span class="ms_tag"><a href="/posts/tags/golang/">golang</a></span>
	
	</div>
	
      </div>
      <div class="summary">
	
	
	
	
	<p>
	   In the pkg-go team, we are currently discussing which workflows we should standardize on. One of the considerations is what goes into the “upstream” Git branch of our repositories: should it track the upstream Git repository, or should it contain orig tarball imports? 
	  <span class="readmore"><a href="https://michael.stapelberg.ch/posts/2017-10-22-pkg-go-upstreams/">Read more →</a></span>
	</p>
      </div>
    </li>
    
    <li>
      <div>
	<a href="https://michael.stapelberg.ch/posts/2017-10-21-gitlab-with-dex/"><h3>Making GitLab authenticate against dex</h3></a>
	
	<div class="tags"></div>
	
      </div>
      <div class="summary">
	
	
	
	
	<p>
	  Because I found it frustratingly hard to make GitLab and dex talk to each other, this article walks you through what I did step-by-step.
Let’s establish some terminology:
dex is our OpenID Connect (OIDC) “Provider (OP)”
in other words: the component which verifies usernames and passwords.

	  <span class="readmore"><a href="https://michael.stapelberg.ch/posts/2017-10-21-gitlab-with-dex/">Read more →</a></span>
	</p>
      </div>
    </li>
    
    <li>
      <div>
	<a href="https://michael.stapelberg.ch/posts/2017-10-21-pk4/"><h3>pk4: a new tool to avail the Debian source package producing the specified package</h3></a>
	
	<div class="tags">
	  Tags:
	
	<span class="ms_tag"><a href="/posts/tags/debian/">debian</a></span>
	
	</div>
	
      </div>
      <div class="summary">
	
	
	
	
	<p>
	   UNIX distributions used to come with the system source code in /usr/src. This is a concept which fascinates me: if you want to change something in any part of your system, just make your change in the corresponding directory, recomile, reinstall, and you can immediately see your changes in action. 
	  <span class="readmore"><a href="https://michael.stapelberg.ch/posts/2017-10-21-pk4/">Read more →</a></span>
	</p>
      </div>
    </li>
    
    <li>
      <div>
	<a href="https://michael.stapelberg.ch/posts/2017-10-08-raspberry-pi-3/"><h3>Debian stretch on the Raspberry Pi 3 (update)</h3></a>
	
	<div class="tags">
	  Tags:
	
	<span class="ms_tag"><a href="/posts/tags/debian/">debian</a></span>
	
	</div>
	
      </div>
      <div class="summary">
	
	
	
	
	<p>
	   I previously wrote about my Debian stretch preview image for the Raspberry Pi 3. Now, I’m publishing an updated version, containing the following changes: SSH host keys are generated on first boot. Old kernel versions are now removed from /boot/firmware when purged. The image is built with vmdb2, the successor to vmdebootstrap. The input files are available at https://github.com/Debian/raspi3-image-spec. The image uses the linux-image-arm64 4.13.4-3 kernel, which provides HDMI output. The image is now compressed using bzip2, reducing its size to 220M. A couple of issues remain, notably the lack of WiFi and bluetooth support (see wiki:RaspberryPi3 for details. Any help with fixing these issues is very welcome! 
	  <span class="readmore"><a href="https://michael.stapelberg.ch/posts/2017-10-08-raspberry-pi-3/">Read more →</a></span>
	</p>
      </div>
    </li>
    
  </ul>

  
  <h2>2017 › August</h2>
  <ul class="ArticleList">
    
    <li>
      <div>
	<a href="https://michael.stapelberg.ch/posts/2017-08-19-golang_favorite/"><h3>Why Go is my favorite programming language</h3></a>
	
	<div class="tags">
	  Tags:
	
	<span class="ms_tag"><a href="/posts/tags/golang/">golang</a></span>
	
	</div>
	
      </div>
      <div class="summary">
	
	
	
	
	<p>
	  I strive to respect everybody’s personal preferences, so I usually steer clear of debates about which is the best programming language, text editor or operating system.
However, recently I was asked a couple of times why I like and use a lot of Go, so here is a coherent article to fill in the blanks of my ad-hoc in-person ramblings :-).

	  <span class="readmore"><a href="https://michael.stapelberg.ch/posts/2017-08-19-golang_favorite/">Read more →</a></span>
	</p>
      </div>
    </li>
    
  </ul>

  
  <h2>2017 › May</h2>
  <ul class="ArticleList">
    
    <li>
      <div>
	<a href="https://michael.stapelberg.ch/posts/2017-05-25-network-manager-portal/"><h3>Auto-opening portal pages with NetworkManager</h3></a>
	
	<div class="tags"></div>
	
      </div>
      <div class="summary">
	
	
	
	
	<p>
	   Modern desktop environments like GNOME offer UI for this, but if you’re using a more bare-bones window manager, you’re on your own. This article outlines how to get a login page opened in your browser when you’re behind a portal. 
	  <span class="readmore"><a href="https://michael.stapelberg.ch/posts/2017-05-25-network-manager-portal/">Read more →</a></span>
	</p>
      </div>
    </li>
    
  </ul>

  
  <h2>2017 › April</h2>
  <ul class="ArticleList">
    
    <li>
      <div>
	<a href="https://michael.stapelberg.ch/posts/2017-04-16-homematic-reimplementation/"><h3>HomeMatic re-implementation</h3></a>
	
	<div class="tags"></div>
	
      </div>
      <div class="summary">
	
	
	
	
	<p>
	   A while ago, I got myself a bunch of HomeMatic home automation gear (valve drives, temperature and humidity sensors, power switches). The gear itself works reasonably well, but I found the management software painfully lacking. Hence, I re-implemented my own management software. In this article, I’ll describe my method, in the hope that others will pick up a few nifty tricks to make future re-implementation projects easier. 
	  <span class="readmore"><a href="https://michael.stapelberg.ch/posts/2017-04-16-homematic-reimplementation/">Read more →</a></span>
	</p>
      </div>
    </li>
    
    <li>
      <div>
	<a href="https://michael.stapelberg.ch/posts/2017-04-09-manpages-debian-org-news/"><h3>manpages.debian.org: what’s new since the launch?</h3></a>
	
	<div class="tags">
	  Tags:
	
	<span class="ms_tag"><a href="/posts/tags/debian/">debian</a></span>
	
	</div>
	
      </div>
      <div class="summary">
	
	
	
	
	<p>
	   On 2017-01-18, I announced that https://manpages.debian.org had been modernized. Let me catch you up on a few things which happened in the meantime: Debian experimental was added to manpages.debian.org. I was surprised to learn that adding experimental only required 52MB of disk usage. Further, Debian contrib was added after realizing that contrib licenses are compatible with the DFSG. Indentation in some code examples was fixed upstream in mandoc. Address-bar search should now also work in Firefox, which apparently requires a title attribute on the opensearch XML file reference. manpages now specify their language in the HTML tag so that search engines can offer users the most appropriate version of the manpage. I contributed mandocd(8) to the mandoc project, which debiman now uses for significantly faster manpage conversion (useful for disaster recovery/development). An entire run previously took 2 hours on my workstation. With this change, it takes merely 22 minutes. The effects are even more pronounced on manziarly, the VM behind manpages.debian.org. Thanks to Peter Palfrader (weasel) from the Debian System Administrators (DSA) team, manpages.debian.org is now serving its manpages (and most of its redirects) from Debian’s static mirroring infrastructure. That way, planned maintenance won’t result in service downtime. I contributed README.static-mirroring.txt, which describes the infrastructure in more detail. The list above is not complete, but rather a selection of things I found worth pointing out to the larger public. 
	  <span class="readmore"><a href="https://michael.stapelberg.ch/posts/2017-04-09-manpages-debian-org-news/">Read more →</a></span>
	</p>
      </div>
    </li>
    
  </ul>

  
  <h2>2017 › March</h2>
  <ul class="ArticleList">
    
    <li>
      <div>
	<a href="https://michael.stapelberg.ch/posts/2017-03-25-turris-omnia/"><h3>Review: Turris Omnia (with Fiber7)</h3></a>
	
	<div class="tags">
	  Tags:
	
	<span class="ms_tag"><a href="/posts/tags/fiber/">fiber</a></span>
	
	</div>
	
      </div>
      <div class="summary">
	
	
	
	
	<p>
	   The Turris Omnia is an open source (an OpenWrt fork) open hardware internet router created and supported by nic.cz, the registry for the Czech Republic. It’s the successor to their Project Turris, but with better specs. I was made aware of the Turris Omnia while it was being crowd-funded on Indiegogo and decided to support the cause. I’ve been using OpenWrt on my wireless infrastructure for many years now, and finding a decent router with enough RAM and storage for the occasional experiment used to not be an easy task. As a result, I had been using a very stable but also very old tp-link WDR4300 for over 4 years. 
	  <span class="readmore"><a href="https://michael.stapelberg.ch/posts/2017-03-25-turris-omnia/">Read more →</a></span>
	</p>
      </div>
    </li>
    
    <li>
      <div>
	<a href="https://michael.stapelberg.ch/posts/2017-03-22-raspberry-pi-3/"><h3>Debian stretch on the Raspberry Pi 3 (update)</h3></a>
	
	<div class="tags">
	  Tags:
	
	<span class="ms_tag"><a href="/posts/tags/debian/">debian</a></span>
	
	</div>
	
      </div>
      <div class="summary">
	
	
	
	
	<p>
	   I previously wrote about my Debian stretch preview image for the Raspberry Pi 3. Now, I’m publishing an updated version, containing the following changes: A new version of the upstream firmware makes the Ethernet MAC address persist across reboots. Updated initramfs files (without updating the kernel) are now correctly copied to the VFAT boot partition. The initramfs’s file system check now works as the required fsck binaries are now available. The root file system is now resized to fill the available space of the SD card on first boot. SSH access is now enabled, restricted via iptables to local network source addresses only. The image uses the linux-image-4.9.0-2-arm64 4.9.13-1 kernel. A couple of issues remain, notably the lack of HDMI, WiFi and bluetooth support (see wiki:RaspberryPi3 for details. Any help with fixing these issues is very welcome! 
	  <span class="readmore"><a href="https://michael.stapelberg.ch/posts/2017-03-22-raspberry-pi-3/">Read more →</a></span>
	</p>
      </div>
    </li>
    
  </ul>

  
  <h2>2017 › January</h2>
  <ul class="ArticleList">
    
    <li>
      <div>
	<a href="https://michael.stapelberg.ch/posts/2017-01-28-golang_atomically_writing/"><h3>Atomically writing files in Go</h3></a>
	
	<div class="tags">
	  Tags:
	
	<span class="ms_tag"><a href="/posts/tags/golang/">golang</a></span>
	
	</div>
	
      </div>
      <div class="summary">
	
	
	
	
	<p>
	   NOTE that the documented assumptions about fsync skipping are incorrect in the code below. Prefer using the renameio package. Writing files is simple, but correctly writing files atomically in a performant way might not be as trivial as one might think. Here’s an extensively commented function to atomically write compressed files (taken from debiman, the software behind manpages.debian.org): package main import ( "bufio" "compress/gzip" "io" "io/ioutil" "log" "os" "path/filepath" ) func tempDir(dest string) string { tempdir := os.Getenv("TMPDIR") if tempdir == "" { // Convenient for development: decreases the chance that we // cannot move files due to TMPDIR being on a different file // system than dest. tempdir = filepath.Dir(dest) } return tempdir } func writeAtomically(dest string, compress bool, write func(w io.Writer) error) (err error) { f, err := ioutil.TempFile(tempDir(dest), "atomic-") if err != nil { return err } defer func() { // Clean up (best effort) in case we are returning with an error: if err != nil { // Prevent file descriptor leaks. f.Close() // Remove the tempfile to avoid filling up the file system. os.Remove(f.Name()) } }() // Use a buffered writer to minimize write(2) syscalls. bufw := bufio.NewWriter(f) w := io.Writer(bufw) var gzipw *gzip.Writer if compress { // NOTE: gzip’s decompression phase takes the same time, // regardless of compression level. Hence, we invest the // maximum CPU time once to achieve the best compression. gzipw, err = gzip.NewWriterLevel(bufw, gzip.BestCompression) if err != nil { return err } defer gzipw.Close() w = gzipw } if err := write(w); err != nil { return err } if compress { if err := gzipw.Close(); err != nil { return err } } if err := bufw.Flush(); err != nil { return err } // Chmod the file world-readable (ioutil.TempFile creates files with // mode 0600) before renaming. if err := f.Chmod(0644); err != nil { return err } // fsync(2) after fchmod(2) orders writes as per // https://lwn.net/Articles/270891/. Can be skipped for performance // for idempotent applications (which only ever atomically write new // files and tolerate file loss) on an ordered file systems. ext3, // ext4, XFS, Btrfs, ZFS are ordered by default. f.Sync() if err := f.Close(); err != nil { return err } return os.Rename(f.Name(), dest) } func main() { if err := writeAtomically("demo.txt.gz", true, func(w io.Writer) error { _, err := w.Write([]byte("demo")) return err }); err != nil { log.Fatal(err) } } rsync(1) will fail when it lacks permission to read files. Hence, if you are synchronizing a repository of files while updating it, you’ll need to set TMPDIR to point to a directory on the same file system (for rename(2) to work) which is not covered by your rsync(1) invocation. 
	  <span class="readmore"><a href="https://michael.stapelberg.ch/posts/2017-01-28-golang_atomically_writing/">Read more →</a></span>
	</p>
      </div>
    </li>
    
  </ul>

  


  Go to page:
  
    <ul class="pagination pagination-default">
      <li class="page-item">
        <a href="/posts/" aria-label="First" class="page-link" role="button"><span aria-hidden="true">&laquo;&laquo;</span></a>
      </li>
      <li class="page-item">
        <a href="/posts/page/2/" aria-label="Previous" class="page-link" role="button"><span aria-hidden="true">&laquo;</span></a>
      </li>
      <li class="page-item">
        <a href="/posts/" aria-label="Page 1" class="page-link" role="button">1</a>
      </li>
      <li class="page-item">
        <a href="/posts/page/2/" aria-label="Page 2" class="page-link" role="button">2</a>
      </li>
      <li class="page-item active">
        <a aria-current="page" aria-label="Page 3" class="page-link" role="button">3</a>
      </li>
      <li class="page-item">
        <a href="/posts/page/4/" aria-label="Page 4" class="page-link" role="button">4</a>
      </li>
      <li class="page-item">
        <a href="/posts/page/5/" aria-label="Page 5" class="page-link" role="button">5</a>
      </li>
      <li class="page-item">
        <a href="/posts/page/4/" aria-label="Next" class="page-link" role="button"><span aria-hidden="true">&raquo;</span></a>
      </li>
      <li class="page-item">
        <a href="/posts/page/11/" aria-label="Last" class="page-link" role="button"><span aria-hidden="true">&raquo;&raquo;</span></a>
      </li>
    </ul>
  <br><div id="bmc">
  <p>
    Did you like this
    post? <a href="https://michael.stapelberg.ch/feed.xml">Subscribe to this
      blog’s RSS feed</a> to not miss any new posts!
  </p>
  <p>
    I run a blog since 2005, spreading knowledge and experience for over 20 years! :)
  </p>
  <p>
    If you want to support my work, you
    can <a href="https://www.buymeacoffee.com/stapelberg">buy me a coffee</a>.
  </p>
  <p>
    Thank you for your support! ❤️
  </p>
</div>

</div>

      </div>
    </main><div id="ms_footer">
  © 2025 Michael Stapelberg • all articles under <a href="https://creativecommons.org/licenses/by/4.0/">Creative Commons CC-BY license</a>
</div>
</body>
</html>
